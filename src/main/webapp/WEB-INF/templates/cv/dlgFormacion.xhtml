<!-- FALTA: (OPCIONAL) Cambiar municipio a p:autocomplete -->
<!-- FALTA: validar que fechaFin sea mayor que fechaInicio -->

<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<f:facet name="header">
		<p:commandLink actionListener="#{cvFormacion.reset}" oncomplete="hideDlg('#dlgFormacion', 'wv_dlgFormacion')" 
					   update=":datosFormacion">
			<i class="fa fa-times-circle-o fa-3x"/>
		</p:commandLink>
		<h:outputText value="Formación Académica" styleClass="txtGrande" style="margin-left: 2em;"/>
	</f:facet>			  
	    
    <p:separator/>
	    
	<div class="ui-grid ui-grid-responsive">
	
		<h:form id="datosFormacion">

			<div class="ui-grid-row" style="margin-bottom: 1em;">
				
				<div class="ui-grid-col-5">
				
					<!-- DATOS DATOS DATOS -->
				
					<!-- Titulo -->		
				    <div class="ui-grid-row" style="margin-bottom: .5em;">
						<p:outputLabel for="titulo" value="Titulo Obtenido" styleClass="ui-grid-col-12"/>
					</div>
		
				    <div class="ui-grid-row">
						<p:inputText id="titulo" value="#{cvFormacion.titulo}"								  
									 placeholder="Técnico superior en Desarrollo de Aplicaciones Web" 
									 required="true" requiredMessage="#{msg['error.required']}" validatorMessage="#{msg['error.formato']}"
									 styleClass="ui-grid-col-12">
							<f:validateLength maximum="90"/>						
						</p:inputText>
					</div>
		
				    <div class="ui-grid-row" style="margin-bottom: 1em;">			    	
						<div class="ui-grid-col-12"><p:message for="titulo" display="text"/></div>
					</div>
				
				
					<!-- Centro -->		
				    <div class="ui-grid-row" style="margin-bottom: .5em;">
						<p:outputLabel for="centro" value="Centro" styleClass="ui-grid-col-12"/>
					</div>
		
				    <div class="ui-grid-row">
						<p:inputText id="centro" value="#{cvFormacion.centro}"								  
									 placeholder="IES Albarregas" 
									 required="true" requiredMessage="#{msg['error.required']}" validatorMessage="#{msg['error.formato']}"
									 styleClass="ui-grid-col-12">
							<f:validateLength maximum="60"/>						
						</p:inputText>
					</div>
		
				    <div class="ui-grid-row" style="margin-bottom: 1em;">			    	
						<div class="ui-grid-col-12"><p:message for="centro" display="text"/></div>
					</div>				
					
					
					<!-- Municipio -->		
				    <div class="ui-grid-row" style="margin-bottom: .5em;">
						<p:outputLabel for="municipio" value="Municipio" styleClass="ui-grid-col-12"/>
					</div>
		
				    <div class="ui-grid-row">
						<p:inputText id="municipio" value="#{cvFormacion.municipio}"								  
									 placeholder="Mérida" 
									 validatorMessage="#{msg['error.formato']}"
									 styleClass="ui-grid-col-12">
							<f:validateLength maximum="101"/>						
						</p:inputText>
					</div>
		
				    <div class="ui-grid-row" style="margin-bottom: 1em;">			    	
						<div class="ui-grid-col-12"><p:message for="municipio" display="text"/></div>
					</div>					
					
					
					<!-- Fecha Inicio (mes y año) -->
				    <div class="ui-grid-row" style="margin-bottom: .5em;">
				    	<p:outputLabel value="Fecha de Inicio (mes y año)" styleClass="ui-grid-col-12"/>
					</div>
		
				    <div class="ui-grid-row">
						<p:inputText id="inicioMes" value="#{cvFormacion.inicioMes}" placeholder="11" maxlength="2"
									 required="true" requiredMessage="#{msg['error.required']}" validatorMessage="#{msg['error.formato']}" 
									 styleClass="ui-grid-col-3">
							 <f:validateLongRange minimum="1" maximum="12"/>									 
		                     <f:validateRegex pattern="^[0-9]{1,2}$"/>
		                     <pe:keyFilter mask="pint"/>									 
						</p:inputText>
										                      		    
			    	 	<h:outputText styleClass="ui-grid-col-2" style="margin-right: .5em;"/> <!-- relleno -->

						<p:inputText id="inicioAnno" value="#{cvFormacion.inicioAnno}" placeholder="2015" maxlength="4" 
									 required="true" requiredMessage="#{msg['error.required']}" validatorMessage="#{msg['error.formato']}" 
									 styleClass="ui-grid-col-3" >
							 <f:validateLongRange minimum="1990" maximum="2016"/>									 
		                     <f:validateRegex pattern="^[0-9]{4}$"/>
		                     <pe:keyFilter mask="pint"/>							 
						</p:inputText>									 
					</div>
		
				    <div class="ui-grid-row" style="margin-bottom: 1em;">
				    	<div class="ui-grid-col-5"><p:message for="inicioMes" display="text"/></div>		    	
						<div class="ui-grid-col-5"><p:message for="inicioAnno" display="text"/></div>		    
					</div>
					
					
					<!-- Fecha Fin (mes y año) -->
				    <div class="ui-grid-row" style="margin-bottom: .5em;">
				    	<p:outputLabel id="fechaFin" value="Fecha de Finalización (mes y año)" styleClass="ui-grid-col-12"/>
					</div>
		
				    <div class="ui-grid-row">
						<p:inputText id="finMes" value="#{cvFormacion.finMes}" placeholder="11" maxlength="2" widgetVar="wvFinMes"
									 required="true" requiredMessage="#{msg['error.required']}" validatorMessage="#{msg['error.formato']}" 
									 styleClass="ui-grid-col-3">
							 <f:validateLongRange minimum="1" maximum="12"/>
		                     <f:validateRegex pattern="^[0-9]{1,2}$"/>
		                     <pe:keyFilter mask="pint"/>									 
						</p:inputText>
										                      		    
			    	 	<h:outputText styleClass="ui-grid-col-2" style="margin-right: .5em;"/> <!-- relleno -->

						<p:inputText id="finAnno" value="#{cvFormacion.finAnno}" placeholder="2015" maxlength="4" widgetVar="wvFinAnno" 
									 required="true" requiredMessage="#{msg['error.required']}" validatorMessage="#{msg['error.formato']}" 
									 styleClass="ui-grid-col-3" >
							 <f:validateLongRange minimum="1990" maximum="2016"/>									 
		                     <f:validateRegex pattern="^[0-9]{4}$"/>
		                     <pe:keyFilter mask="pint"/>							 
						</p:inputText>									 
					</div>
		
				    <div class="ui-grid-row" style="margin-bottom: 1em;">
				    	<div class="ui-grid-col-5"><p:message for="finMes" display="text"/></div>		    	
						<div class="ui-grid-col-5"><p:message for="finAnno" display="text"/></div>		    
					</div>


					<!-- Actualmente -->
				    <div class="ui-grid-row" style="margin-bottom: 1em;">
						<p:selectBooleanCheckbox id="actualmente" value="#{cvFormacion.actualmente}" widgetVar="wvActualmente" onchange="toggleFechaFin()"/>
						<p:outputLabel for="actualmente" value="Cursando actualmente" style="margin-left: .5em;"/>
					</div>
					
					<!-- Informacion Adicional -->
				    <div class="ui-grid-row" style="margin-bottom: .5em;">
						<p:outputLabel for="infoAdicional" value="Información Adicional" styleClass="ui-grid-col-12"/>
					</div>
		
				    <div class="ui-grid-row">
						<p:inputTextarea id="infoAdicional" value="#{cvFormacion.infoAdicional}" maxlength="500" autoResize="true" disabled="true"									 	 
									 	 styleClass="ui-grid-col-12"/>									 				    
					</div>
		
				    <div class="ui-grid-row" style="margin-bottom: 1em;">			    	
						<div class="ui-grid-col-12"><p:message for="infoAdicional" display="text"/></div>
					</div>					
				
					<!-- DATOS DATOS DATOS -->				
				
				</div>				
				
				<h:outputText styleClass="ui-grid-col-2"/> <!-- relleno -->
				
				<!-- BOTONES PARA ACEPTAR/CANCELAR    -->
				<!-- ******************************** -->								
				<div class="ui-grid-col-5 bloqueBtnAceptarCancelar">

						<p:commandButton id="btnAceptar" value="Aceptar" actionListener="#{cvFormacion.aceptar}" 
										 process=":datosFormacion" update=":datosFormacion, cvForm:cvCenterPnlFormacion"										 
										 style="margin-bottom: 1em;"/>
										 
						<p:commandButton id="btnCancelar" value="Cancelar" actionListener="#{cvFormacion.reset}" immediate="true"
										 update=":datosFormacion"
										 oncomplete="hideDlg('#dlgFormacion', 'wv_dlgFormacion')"										  
										 style="margin-bottom: 1em;"/>
										 
						<p:commandButton id="btnRestablecer" value="Restablecer" actionListener="#{cvFormacion.reset}" immediate="true"
										 update=":datosFormacion" />
									 				
				</div>
				<!-- BOTONES PARA ACEPTAR/CANCELAR    -->
				<!-- ******************************** -->
								
			</div>
 		
 		</h:form>
 					
	</div> <!-- grid -->
				
</ui:composition>